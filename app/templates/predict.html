{% extends "base.html" %}

{% block title %}–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ{% endblock %}

{% block head %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/predict.css') }}">
{% endblock %}

{% block content %}
<div class="predict-container">
    <h3 class="predict-title">–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ—Å—Ç–∏</h3>
    
    <input type="hidden" id="ai-model" value="Qwen/Qwen3-Coder-480B-A35B-Instruct">
    <input type="hidden" id="temperature" value="0.7">
    
    <div class="forecast-controls">
        <div class="control-group">
            <h4 class="control-title">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π:</h4>
            <div class="category-selector">
                <select id="news-category" class="select-control">
                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    <option value="military_operations">–í–æ–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</option>
                    <option value="humanitarian_crisis">–ì—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–π –∫—Ä–∏–∑–∏—Å</option>
                    <option value="economic_consequences">–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è</option>
                    <option value="political_decisions">–ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è</option>
                    <option value="information_social">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ-—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã</option>
                </select>
            </div>
        </div>
        
        <div class="control-group">
            <h4 class="control-title">–ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞:</h4>
            <div class="period-selector">
                <select id="analysis-period" class="select-control">
                    <option value="1">–ü–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å</option>
                    <option value="24" selected>–ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å</option>
                    <option value="168">–ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è</option>
                    <option value="720">–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü</option>
                </select>
            </div>
        </div>
        
        <div class="control-group">
            <h4 class="control-title">–ü–µ—Ä–∏–æ–¥ –ø—Ä–æ–≥–Ω–æ–∑–∞:</h4>
            <div class="forecast-selector">
                <select id="forecast-period" class="select-control">
                    <option value="1">1 —á–∞—Å –≤–ø–µ—Ä–µ–¥</option>
                    <option value="24" selected>1 –¥–µ–Ω—å –≤–ø–µ—Ä–µ–¥</option>
                    <option value="72">3 –¥–Ω—è –≤–ø–µ—Ä–µ–¥</option>
                    <option value="168">1 –Ω–µ–¥–µ–ª—è –≤–ø–µ—Ä–µ–¥</option>
                </select>
            </div>
        </div>
    </div>
    
    <div class="input-area">
        <h4 class="output-title">–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</h4>
        <div style="position: relative;">
            <textarea class="prompt-input" id="ai-prompt" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –≤–ª–∏—è–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—É—é –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –¥–∞–π –ø—Ä–æ–≥–Ω–æ–∑..."></textarea>
            <button type="button" id="auto-fill-btn" class="auto-fill-btn" onclick="fillPromptExamples()" title="–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–º–µ—Ä–æ–º">
                <span>üìù</span>
            </button>
        </div>
        
        <div class="tokens-control">
            <label for="max_tokens">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤: <span id="tokens-value">1000</span></label>
            <input type="range" id="max_tokens" min="100" max="4096" value="1000" step="10" class="tokens-slider">
        </div>
        
        <div class="tokens-balance">
            <span>–û—Å—Ç–∞—Ç–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤: <span id="tokens-balance">998300</span></span>
        </div>
        
        <button class="submit-btn" onclick="generateForecast()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑</button>
    </div>
    
    <div class="output-area">
        <h4 class="output-title">–ü—Ä–æ–≥–Ω–æ–∑:</h4>
        <div id="ai-response" class="response-box"></div>
        <div id="forecast-chart" class="chart-container"></div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/predict.js') }}"></script>
{% endblock %}