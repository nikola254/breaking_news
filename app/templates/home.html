{% extends "base.html" %}

{% block title %}NewsAnalytics - Отчеты по новостным сводкам{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}
<div class="news-types">
    <button class="news-type-btn active" data-category="ukraine">Украина</button>
    <button class="news-type-btn" data-category="middle_east">Ближний восток</button>
    <button class="news-type-btn" data-category="fake_news">Фейки</button>
    <button class="news-type-btn" data-category="info_war">Инфовойна</button>
    <button class="news-type-btn" data-category="europe">Европа</button>
    <button class="news-type-btn" data-category="usa">США</button>
</div>

<!-- Легенда категорий -->
<div class="category-legend">
    <h4>Легенда категорий:</h4>
    <div class="legend-items">
        <div class="legend-item military_operations">
            <span class="legend-color"></span>
            <span>Военные операции</span>
        </div>
        <div class="legend-item humanitarian_crisis">
            <span class="legend-color"></span>
            <span>Гуманитарный кризис</span>
        </div>
        <div class="legend-item economic_consequences">
            <span class="legend-color"></span>
            <span>Экономические последствия</span>
        </div>
        <div class="legend-item political_decisions">
            <span class="legend-color"></span>
            <span>Политические решения</span>
        </div>
        <div class="legend-item information_social">
            <span class="legend-color"></span>
            <span>Информационно-социальные</span>
        </div>
    </div>
</div>

<div class="news-container" id="news-container">
    <!-- Новости будут загружены здесь в виде карточек -->
</div>
<div class="pagination" id="pagination"></div>

<!-- Модальное окно -->
<div id="newsModal" class="news-modal-overlay">
    <div class="news-modal-content">
        <div class="news-modal-header">
            <h2 id="modalTitle">Заголовок</h2>
            <button class="news-modal-close" onclick="closeNewsModal()">×</button>
        </div>
        <div class="news-modal-body">
            <div class="news-modal-meta">
                <div class="news-modal-meta-item">
                    <i class="fas fa-calendar-alt"></i>
                    <strong>Дата:</strong> <span id="modalDate"></span>
                </div>
                <div class="news-modal-meta-item">
                    <i class="fas fa-newspaper"></i>
                    <strong>Источник:</strong> <span id="modalSource"></span>
                </div>
                <div class="news-modal-meta-item">
                    <i class="fas fa-tag"></i>
                    <strong>Категория:</strong> <span id="modalCategory"></span>
                </div>
                <div class="news-modal-meta-item">
                    <i class="fas fa-chart-line"></i>
                    <strong>Напряженность:</strong> <span id="modalTension"></span>
                </div>
            </div>
            <div class="news-modal-content-text" id="modalContent"></div>
        </div>
        <div class="news-modal-footer">
            <a id="modalLink" href="#" target="_blank" class="news-modal-link">
                <i class="fas fa-external-link-alt"></i>
                Читать на источнике
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}